syntax = "proto3";
package grpc_fs;

message Empty {
}

service FileSystem {
    rpc DefaultPath (Empty) returns (PathMessage) {}
    rpc List (PathMessage) returns (ListResponse) {}
}

message PathMessage {
    string path = 1;
}

message ListResponse {
    repeated string files = 1;
    repeated string directories = 2;
}

enum DataFrameType {
    COMMA_SEP = 0;
    NDEV = 1;
    KITTI = 2;
}

service PolarsService {
    rpc LoadDataframe(FileLoadRequest) returns (stream DataframeBytes) {}
}

message DataframeBytes {
    bytes data = 1;
}

message FileLoadRequest {
    string filename = 1;
    DataFrameType filetype = 2;
}
